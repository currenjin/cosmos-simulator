<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tonight Sky Planner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Sans+KR:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-glow glow-a"></div>
    <div class="bg-glow glow-b"></div>
    <header class="hero">
      <p class="eyebrow">Night Observation Assistant</p>
      <h1>오늘 밤 관측 플래너</h1>
      <p>
        위치와 날짜를 넣으면, 오늘 밤 실제로 보기 쉬운 천체를 우선순위로 추천합니다.
      </p>
    </header>

    <main>
      <section class="panel controls">
        <h2>관측 조건</h2>
        <form id="planner-form">
          <label>
            위도
            <input id="latitude" type="number" min="-90" max="90" step="0.0001" required />
          </label>
          <label>
            경도
            <input id="longitude" type="number" min="-180" max="180" step="0.0001" required />
          </label>
          <label>
            날짜
            <input id="date" type="date" required />
          </label>
          <label>
            장비
            <select id="equipment">
              <option value="naked-eye">맨눈</option>
              <option value="binocular" selected>쌍안경</option>
              <option value="small-scope">소형 망원경</option>
            </select>
          </label>
          <div class="buttons">
            <button type="button" id="use-location">내 위치 사용</button>
            <button type="submit" class="primary">추천 계산</button>
          </div>
        </form>
        <p class="hint">
          기준: 태양 고도 -12° 이하(어두운 하늘), 대상 고도 25° 이상일 때 관측 가능으로 판단.
        </p>
      </section>

      <section class="panel summary" id="summary"></section>

      <section class="panel viewer3d">
        <div class="viewer-head">
          <div>
            <h2>3D 하늘 시뮬레이터</h2>
            <p>드래그로 회전, 휠로 확대/축소. 별자리와 성운 레이어를 켜고 끌 수 있습니다.</p>
          </div>
          <div class="viewer-quick">
            <button type="button" data-focus="orion">오리온</button>
            <button type="button" data-focus="ursa-major">북두칠성</button>
            <button type="button" data-focus="summer">여름 삼각형</button>
          </div>
        </div>
        <div class="viewer-controls">
          <label class="toggle">
            <input type="checkbox" id="toggle-constellations" checked />
            별자리 선
          </label>
          <label class="toggle">
            <input type="checkbox" id="toggle-nebulae" checked />
            성운/성단
          </label>
          <label class="toggle">
            <input type="checkbox" id="toggle-labels" checked />
            이름 라벨
          </label>
        </div>
        <div id="sky-viewer"></div>
      </section>

      <section class="panel results">
        <div class="results-head">
          <h2>추천 대상</h2>
          <span id="result-count"></span>
        </div>
        <div id="result-cards" class="cards"></div>
      </section>
    </main>

    <template id="card-template">
      <article class="card">
        <div class="card-head">
          <div>
            <h3 class="target-name"></h3>
            <p class="target-meta"></p>
          </div>
          <div class="score-chip"></div>
        </div>
        <div class="stats"></div>
        <div class="chart-wrap">
          <canvas width="320" height="120"></canvas>
        </div>
      </article>
    </template>

    <script type="module" src="app.js"></script>
    <script type="module" src="sky3d.js"></script>
  </body>
</html>
